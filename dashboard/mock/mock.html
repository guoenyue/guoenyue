<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        var baseNum = 5;
        // var ajax = new XMLHttpRequest();
        // ajax.open("GET", "./data2.json", true);
        // ajax.send();
        // ajax.onreadystatechange = function(re, status, xhr) {
        //     if (ajax.readyState == 4 && ajax.status == 200) {
        //         var metaData = JSON.parse(ajax.responseText).data;
        //         var tmpObj = {};
        //         var tmpArr = [];
        //         metaData.forEach(function(item, i) {
        //             var spliceNum = Math.floor((item.minute % baseNum) / 10) + Math.floor(item.minute / baseNum) * baseNum;
        //             var tmpStr = "time" + item.year + '' + item.month + '' + item.day + '' + item.hour + spliceNum;
        //             tmpObj[tmpStr] = tmpObj[tmpStr] ? tmpObj[tmpStr] : [];
        //             tmpObj[tmpStr].push(item);
        //         });
        //         console.log(tmpObj);
        //         //为了慎重，这个遍历应该在变成数组之后从新排序，因为这个for in的遍历循环输出顺序根据浏览器不同可能排序不同
        //         //资料url：http://echizen.github.io/tech/2017/03-12-js-object-forin-order
        //         for (var i in tmpObj) {
        //             tmpArr.push({
        //                 time: i.substr(4),
        //                 data: tmpObj[i]
        //             });
        //         }
        //         console.log(tmpArr);
        //     }
        // };
        var arrSpliceNum = [];
        var obj = {};
        for (var j = 0; j < 24; j++) {
            for (var i = 0; i < 60; i++) {
                var spliceNum = (Math.floor((i % baseNum) / 10) + Math.floor(i / baseNum) + 1) * baseNum;
                var tmpStr = j + "min" + spliceNum;
                obj[tmpStr] = obj[tmpStr] ? obj[tmpStr] : [];
            }
        };
        for (var k in obj) {
            arrSpliceNum.push(k);
        }
        console.log(arrSpliceNum);
        obj = arrSpliceNum.map(function(item, i) {
            var [h, min] = item.split("min");
            //obj[item] = i;
            return {
                "orderID": "xxx",
                "createtime": "2017-01-21 10:02:22",
                "OrderStatus": 1,
                "year": 2017,
                "month": 1,
                "day": 10,
                index: i,
                hour: h,
                minute: min,
                //  minute: min - Math.floor(Math.random() * 3),
                "PaidMoney": 1,
                //"PaidMoney": (Math.random() * 1830).toFixed(2),
                "secon": 22
            }
        });

        document.write(JSON.stringify(obj));
        //所以可知道时间段的索引值的算法是h*(60/baseNum)+(spliceNum/baseNum-1);
        //简化上述计算式可得h*(60/baseNum)+Math.floor((min % baseNum) / 10) + Math.floor(min / baseNum);
        var oSPLICENUM = {
            "0min5": 0, //h*12+(num/5-1)---反推  (i%12)*5=min,Math.floor(i/12)
            "0min10": 1,
            "0min15": 2,
            "0min20": 3,
            "0min25": 4,
            "0min30": 5,
            "0min35": 6,
            "0min40": 7,
            "0min45": 8,
            "0min50": 9,
            "0min55": 10,
            "0min60": 11,
            "1min5": 12,
            "1min10": 13,
            "1min15": 14,
            "1min20": 15,
            "1min25": 16,
            "1min30": 17,
            "1min35": 18,
            "1min40": 19,
            "1min45": 20,
            "1min50": 21,
            "1min55": 22,
            "1min60": 23,
            "2min5": 24,
            "2min10": 25,
            "2min15": 26,
            "2min20": 27,
            "2min25": 28,
            "2min30": 29,
            "2min35": 30,
            "2min40": 31,
            "2min45": 32,
            "2min50": 33,
            "2min55": 34,
            "2min60": 35,
            "3min5": 36,
            "3min10": 37,
            "3min15": 38,
            "3min20": 39,
            "3min25": 40,
            "3min30": 41,
            "3min35": 42,
            "3min40": 43,
            "3min45": 44,
            "3min50": 45,
            "3min55": 46,
            "3min60": 47,
            "4min5": 48,
            "4min10": 49,
            "4min15": 50,
            "4min20": 51,
            "4min25": 52,
            "4min30": 53,
            "4min35": 54,
            "4min40": 55,
            "4min45": 56,
            "4min50": 57,
            "4min55": 58,
            "4min60": 59,
            "5min5": 60,
            "5min10": 61,
            "5min15": 62,
            "5min20": 63,
            "5min25": 64,
            "5min30": 65,
            "5min35": 66,
            "5min40": 67,
            "5min45": 68,
            "5min50": 69,
            "5min55": 70,
            "5min60": 71,
            "6min5": 72,
            "6min10": 73,
            "6min15": 74,
            "6min20": 75,
            "6min25": 76,
            "6min30": 77,
            "6min35": 78,
            "6min40": 79,
            "6min45": 80,
            "6min50": 81,
            "6min55": 82,
            "6min60": 83,
            "7min5": 84,
            "7min10": 85,
            "7min15": 86,
            "7min20": 87,
            "7min25": 88,
            "7min30": 89,
            "7min35": 90,
            "7min40": 91,
            "7min45": 92,
            "7min50": 93,
            "7min55": 94,
            "7min60": 95,
            "8min5": 96,
            "8min10": 97,
            "8min15": 98,
            "8min20": 99,
            "8min25": 100,
            "8min30": 101,
            "8min35": 102,
            "8min40": 103,
            "8min45": 104,
            "8min50": 105,
            "8min55": 106,
            "8min60": 107,
            "9min5": 108,
            "9min10": 109,
            "9min15": 110,
            "9min20": 111,
            "9min25": 112,
            "9min30": 113,
            "9min35": 114,
            "9min40": 115,
            "9min45": 116,
            "9min50": 117,
            "9min55": 118,
            "9min60": 119,
            "10min5": 120,
            "10min10": 121,
            "10min15": 122,
            "10min20": 123,
            "10min25": 124,
            "10min30": 125,
            "10min35": 126,
            "10min40": 127,
            "10min45": 128,
            "10min50": 129,
            "10min55": 130,
            "10min60": 131,
            "11min5": 132,
            "11min10": 133,
            "11min15": 134,
            "11min20": 135,
            "11min25": 136,
            "11min30": 137,
            "11min35": 138,
            "11min40": 139,
            "11min45": 140,
            "11min50": 141,
            "11min55": 142,
            "11min60": 143,
            "12min5": 144,
            "12min10": 145,
            "12min15": 146,
            "12min20": 147,
            "12min25": 148,
            "12min30": 149,
            "12min35": 150,
            "12min40": 151,
            "12min45": 152,
            "12min50": 153,
            "12min55": 154,
            "12min60": 155,
            "13min5": 156,
            "13min10": 157,
            "13min15": 158,
            "13min20": 159,
            "13min25": 160,
            "13min30": 161,
            "13min35": 162,
            "13min40": 163,
            "13min45": 164,
            "13min50": 165,
            "13min55": 166,
            "13min60": 167,
            "14min5": 168,
            "14min10": 169,
            "14min15": 170,
            "14min20": 171,
            "14min25": 172,
            "14min30": 173,
            "14min35": 174,
            "14min40": 175,
            "14min45": 176,
            "14min50": 177,
            "14min55": 178,
            "14min60": 179,
            "15min5": 180,
            "15min10": 181,
            "15min15": 182,
            "15min20": 183,
            "15min25": 184,
            "15min30": 185,
            "15min35": 186,
            "15min40": 187,
            "15min45": 188,
            "15min50": 189,
            "15min55": 190,
            "15min60": 191,
            "16min5": 192,
            "16min10": 193,
            "16min15": 194,
            "16min20": 195,
            "16min25": 196,
            "16min30": 197,
            "16min35": 198,
            "16min40": 199,
            "16min45": 200,
            "16min50": 201,
            "16min55": 202,
            "16min60": 203,
            "17min5": 204,
            "17min10": 205,
            "17min15": 206,
            "17min20": 207,
            "17min25": 208,
            "17min30": 209,
            "17min35": 210,
            "17min40": 211,
            "17min45": 212,
            "17min50": 213,
            "17min55": 214,
            "17min60": 215,
            "18min5": 216,
            "18min10": 217,
            "18min15": 218,
            "18min20": 219,
            "18min25": 220,
            "18min30": 221,
            "18min35": 222,
            "18min40": 223,
            "18min45": 224,
            "18min50": 225,
            "18min55": 226,
            "18min60": 227,
            "19min5": 228,
            "19min10": 229,
            "19min15": 230,
            "19min20": 231,
            "19min25": 232,
            "19min30": 233,
            "19min35": 234,
            "19min40": 235,
            "19min45": 236,
            "19min50": 237,
            "19min55": 238,
            "19min60": 239,
            "20min5": 240,
            "20min10": 241,
            "20min15": 242,
            "20min20": 243,
            "20min25": 244,
            "20min30": 245,
            "20min35": 246,
            "20min40": 247,
            "20min45": 248,
            "20min50": 249,
            "20min55": 250,
            "20min60": 251,
            "21min5": 252,
            "21min10": 253,
            "21min15": 254,
            "21min20": 255,
            "21min25": 256,
            "21min30": 257,
            "21min35": 258,
            "21min40": 259,
            "21min45": 260,
            "21min50": 261,
            "21min55": 262,
            "21min60": 263,
            "22min5": 264,
            "22min10": 265,
            "22min15": 266,
            "22min20": 267,
            "22min25": 268,
            "22min30": 269,
            "22min35": 270,
            "22min40": 271,
            "22min45": 272,
            "22min50": 273,
            "22min55": 274,
            "22min60": 275,
            "23min5": 276,
            "23min10": 277,
            "23min15": 278,
            "23min20": 279,
            "23min25": 280,
            "23min30": 281,
            "23min35": 282,
            "23min40": 283,
            "23min45": 284,
            "23min50": 285,
            "23min55": 286,
            "23min60": 287
        };
        var nn = {
            "0min10": 0, //h*6+(num/10-1)
            "0min20": 1,
            "0min30": 2,
            "0min40": 3,
            "0min50": 4,
            "0min60": 5,
            "1min10": 6,
            "1min20": 7,
            "1min30": 8,
            "1min40": 9,
            "1min50": 10,
            "1min60": 11
        }
    </script>
</body>

</html>